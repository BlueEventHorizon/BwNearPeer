# NearPeerExample

BwNearPeerライブラリを使用した近距離通信のデモアプリです。

## 概要

このアプリは、Swift ConcurrencyとSwiftUI @Observableを活用して、Multipeer Connectivityを使用してデバイス間でリアルタイムにテキストメッセージを送受信するデモアプリケーションです。iOS/macOS対応で、同じネットワーク内の他のデバイスと自動的に接続し、メッセージのやり取りができます。

## クイックスタート

1. 2つのデバイス（iOS 17.0以降またはmacOS 14.0以降）でアプリを起動
2. 自動的に相互接続が開始されます
3. テキストを入力して「送信」ボタンでメッセージを送信

## 技術仕様

- **対応プラットフォーム**: iOS 17.0以降 / macOS 14.0以降
- **使用ライブラリ**: BwNearPeer
- **接続方式**: Multipeer Connectivity
- **最大接続数**: 1台
- **アーキテクチャ**: Swift Concurrency + SwiftUI @Observable

## 機能

- **自動ピア検出**: 同じサービスタイプを使用する他のデバイスを自動的に検出
- **リアルタイムメッセージング**: テキストメッセージの双方向送受信
- **接続状態管理**: 接続/切断/再接続の制御
- **エラーハンドリング**: 詳細なエラー表示とユーザーフィードバック
- **プルツーリフレッシュ**: 下にスワイプして再接続を試行

## 使用技術

### Swift Concurrency
- `async/await` による非同期処理
- `TaskGroup` による並行イベント監視
- `AsyncStream` によるリアルタイムイベント処理

### SwiftUI
- `@Observable` による最新の状態管理
- コンポーネント化されたUI設計
- アクセシビリティ対応

## 詳細な使い方

詳しい使用方法、アーキテクチャ解説、リファクタリング情報については、以下のドキュメントをご覧ください：

- [メインREADME](../README.md): 全体的な使用方法
- [REFACTORING.md](./REFACTORING.md): アーキテクチャとリファクタリング詳細

## トラブルシューティング

### 接続できない場合
- 両方のデバイスが同じWi-Fiネットワークに接続されているか確認
- Bluetoothが有効になっているか確認
- iOS 17.0以降 / macOS 14.0以降で実行しているか確認

### ビルドエラーが出る場合
- Xcode 15.0以降を使用しているか確認
- Swift 5.9以降がサポートされているか確認
